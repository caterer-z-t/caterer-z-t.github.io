---
title: leaflet
header-include: |
  <link href="map_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
  <script src="map_files/htmlwidgets-1.6.4/htmlwidgets.js"></script>
  <script src="map_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <link href="map_files/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
  <script src="map_files/leaflet-1.3.1/leaflet.js"></script>
  <link href="map_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
  <script src="map_files/proj4-2.6.2/proj4.min.js"></script>
  <script src="map_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
  <link href="map_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
  <script src="map_files/leaflet-binding-2.2.2/leaflet.js"></script>
  <script src="map_files/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
  <script src="map_files/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js"></script>
head: |2+

background-color: white

---
<div id="htmlwidget_container">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-099d228da367c105cc72" style="width:100%;height:400px;"></div>
</div>
<script type="application/json" data-for="htmlwidget-099d228da367c105cc72">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addCircleMarkers","args":[[40.00839386173561,40.00839386173561,40.00839386173561,34.06969123198319,33.4499953430112,39.74557388693187,39.74327494123729,43.07483400033543,44.79759493715432,44.79759493715432,44.79759493715432,44.79759493715432,44.79759493715432,44.79759493715432,44.79759493715432,44.79759493715432,44.79759493715432,44.79759493715432],[-105.2490394156303,-105.2490394156303,-105.2490394156303,-118.4436758890683,-112.069957247333,-104.8414907841752,-104.995220670855,-89.38302257620016,-91.49876571918574,-91.49876571918574,-91.49876571918574,-91.49876571918574,-91.49876571918574,-91.49876571918574,-91.49876571918574,-91.49876571918574,-91.49876571918574,-91.49876571918574],5,null,null,{"interactive":true,"className":"","stroke":true,"color":"blue","weight":5,"opacity":0.5,"fill":true,"fillColor":"blue","fillOpacity":0.5},null,null,null,null,"Click for Projects",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[33.4499953430112,44.79759493715432],"lng":[-118.4436758890683,-89.38302257620016]}},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n    function(el, x) {\n        var markers = this._map._layers;\n\n        // Disable the default popups and ensure the modal displays\n        for (var key in markers) {\n            var marker = markers[key];\n            if (marker instanceof L.Marker) {\n                marker.on('click', function(e) {\n                    var lat = e.latlng.lat;\n                    var lon = e.latlng.lng;\n                    var popupContent = e.target.options.label;\n\n                    // Create the modal container dynamically\n                    var modalContainer = document.createElement('div');\n                    modalContainer.style.position = 'fixed';\n                    modalContainer.style.top = '0';\n                    modalContainer.style.left = '0';\n                    modalContainer.style.width = '100vw';\n                    modalContainer.style.height = '100vh';\n                    modalContainer.style.backgroundColor = 'rgba(0, 0, 0, 0.7)';\n                    modalContainer.style.zIndex = 9999;\n                    modalContainer.style.overflow = 'auto';\n                    modalContainer.style.display = 'flex';\n                    modalContainer.style.justifyContent = 'center';\n                    modalContainer.style.alignItems = 'center';\n\n                    // Create the modal content box\n                    var modalContent = document.createElement('div');\n                    modalContent.style.backgroundColor = 'white';\n                    modalContent.style.padding = '20px';\n                    modalContent.style.borderRadius = '10px';\n                    modalContent.style.maxHeight = '80vh';\n                    modalContent.style.overflowY = 'scroll';\n\n                    // Insert the content (using popupContent as an example)\n                    modalContent.innerHTML = popupContent;\n\n                    // Append the modal content to the container\n                    modalContainer.appendChild(modalContent);\n                    document.body.appendChild(modalContainer);\n\n                    // Close modal when clicking outside of the modal content\n                    modalContainer.onclick = function(event) {\n                        if (event.target === modalContainer) {\n                            document.body.removeChild(modalContainer);\n                        }\n                    };\n                });\n            }\n        }\n    }\n  ).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
<script type="application/htmlwidget-sizing" data-for="htmlwidget-099d228da367c105cc72">{"viewer":{"width":"100%","height":400,"padding":0,"fill":true},"browser":{"width":"100%","height":400,"padding":0,"fill":true}}</script>
